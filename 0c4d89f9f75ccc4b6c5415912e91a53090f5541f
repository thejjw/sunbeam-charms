{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a3ad0924_222c862e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 8213
      },
      "writtenOn": "2025-11-26T07:15:23Z",
      "side": 1,
      "message": "Tested it locally, was able to copy an image to the swift backend:\n\n\nglance-api.conf:\n\n```\n[DEFAULT]\n...\nenabled_backends \u003d filestore:file,ceph:rbd,swift:swift\n...\n\n[glance_store]\ndefault_backend \u003d ceph\n\n...\n\n[swift]\nswift_store_config_file \u003d /etc/glance/glance-api.d/01-swift.conf\nswift_store_region \u003d RegionOne\nswift_store_container \u003d glance\nswift_store_create_container_on_put \u003d true\n\n```\n\n /etc/glance/glance-api.d/01-swift.conf\n\n ```\n[ref1]\nauth_address \u003d http://IP/openstack-keystone/v3\nauth_version \u003d 3\nuser \u003d services:svc_glance-removed\nproject_domain_name \u003d service_domain\nuser_domain_name \u003d service_domain\nkey \u003d removed\n```\n\n```\n\n```\nopenstack image show cirros-0.6.2-x86_64-disk.img\n+------------------+------------------------------------------------------------------------------------------------+\n| Field            | Value                                                                                          |\n+------------------+------------------------------------------------------------------------------------------------+\n| checksum         | c8fc807773e5354afe61636071771906                                                               |\n| container_format | bare                                                                                           |\n| created_at       | 2025-11-22T12:50:50Z                                                                           |\n| disk_format      | qcow2                                                                                          |\n| file             | /v2/images/bd3a4e5d-4233-40bb-bad0-612705fdf882/file                                           |\n| id               | bd3a4e5d-4233-40bb-bad0-612705fdf882                                                           |\n| min_disk         | 0                                                                                              |\n| min_ram          | 0                                                                                              |\n| name             | cirros-0.6.2-x86_64-disk.img                                                                   |\n| owner            | b010c2b8e35d4e9e94453ee3018f3581                                                               |\n| properties       | hw_rng_model\u003d\u0027virtio\u0027, os_hash_algo\u003d\u0027sha512\u0027, os_hash_value\u003d\u00271103b92ce8ad966e41235a4de260deb79 |\n|                  | 1ff571670c0342666c8582fbb9caefe6af07ebb11d34f44f8414b609b29c1bdf1d72ffa6faa39c88e8721d09847952 |\n|                  | b\u0027, os_hidden\u003d\u0027False\u0027, stores\u003d\u0027ceph\u0027                                                           |\n| protected        | False                                                                                          |\n| schema           | /v2/schemas/image                                                                              |\n| size             | 21430272                                                                                       |\n| status           | active                                                                                         |\n| tags             |                                                                                                |\n| updated_at       | 2025-11-22T12:50:51Z                                                                           |\n| virtual_size     | 117440512                                                                                      |\n| visibility       | public                                                                                         |\n+------------------+------------------------------------------------------------------------------------------------+\n\n# import image into swift.\nopenstack image import cirros-0.6.2-x86_64-disk.img --method copy-image --store swift\n\n# check task.\nopenstack image task show 049b4538-e6f0-4995-afa5-bb98dde2f795\n+------------+------------------------------------------------------------------------------------------------------+\n| Field      | Value                                                                                                |\n+------------+------------------------------------------------------------------------------------------------------+\n| created_at | 2025-11-26T07:10:35Z                                                                                 |\n| expires_at | 2025-11-28T07:10:38Z                                                                                 |\n| id         | 049b4538-e6f0-4995-afa5-bb98dde2f795                                                                 |\n| input      | {\u0027image_id\u0027: \u0027bd3a4e5d-4233-40bb-bad0-612705fdf882\u0027, \u0027import_req\u0027: {\u0027method\u0027: {\u0027name\u0027: \u0027copy-        |\n|            | image\u0027}, \u0027all_stores_must_succeed\u0027: False, \u0027stores\u0027: [\u0027swift\u0027]}, \u0027backend\u0027: [\u0027swift\u0027]}               |\n| message    | Copied 20 MiB                                                                                        |\n| owner_id   | 5648286e2ac04aa4af4deb212d7a338d                                                                     |\n| properties |                                                                                                      |\n| result     | {\u0027image_id\u0027: \u0027bd3a4e5d-4233-40bb-bad0-612705fdf882\u0027}                                                 |\n| status     | success                                                                                              |\n| type       | api_image_import                                                                                     |\n| updated_at | 2025-11-26T07:10:38Z                                                                                 |\n+------------+------------------------------------------------------------------------------------------------------+\n\n# check image, it is now also in the swift store.\nopenstack image show cirros-0.6.2-x86_64-disk.img\n+------------------+------------------------------------------------------------------------------------------------+\n| Field            | Value                                                                                          |\n+------------------+------------------------------------------------------------------------------------------------+\n| checksum         | c8fc807773e5354afe61636071771906                                                               |\n| container_format | bare                                                                                           |\n| created_at       | 2025-11-22T12:50:50Z                                                                           |\n| disk_format      | qcow2                                                                                          |\n| file             | /v2/images/bd3a4e5d-4233-40bb-bad0-612705fdf882/file                                           |\n| id               | bd3a4e5d-4233-40bb-bad0-612705fdf882                                                           |\n| min_disk         | 0                                                                                              |\n| min_ram          | 0                                                                                              |\n| name             | cirros-0.6.2-x86_64-disk.img                                                                   |\n| owner            | b010c2b8e35d4e9e94453ee3018f3581                                                               |\n| properties       | hw_rng_model\u003d\u0027virtio\u0027, os_glance_failed_import\u003d\u0027\u0027, os_glance_importing_to_stores\u003d\u0027\u0027,           |\n|                  | os_hash_algo\u003d\u0027sha512\u0027, os_hash_value\u003d\u00271103b92ce8ad966e41235a4de260deb791ff571670c0342666c8582f |\n|                  | bb9caefe6af07ebb11d34f44f8414b609b29c1bdf1d72ffa6faa39c88e8721d09847952b\u0027, os_hidden\u003d\u0027False\u0027,  |\n|                  | stores\u003d\u0027ceph,swift\u0027                                                                            |\n| protected        | False                                                                                          |\n| schema           | /v2/schemas/image                                                                              |\n| size             | 21430272                                                                                       |\n| status           | active                                                                                         |\n| tags             |                                                                                                |\n| updated_at       | 2025-11-26T07:10:38Z                                                                           |\n| virtual_size     | 117440512                                                                                      |\n| visibility       | public                                                                                         |\n+------------------+------------------------------------------------------------------------------------------------+\n```",
      "revId": "0c4d89f9f75ccc4b6c5415912e91a53090f5541f",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ]
}