{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "6d234d45_0739f8d0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 34352
      },
      "writtenOn": "2024-02-20T10:46:35Z",
      "side": 1,
      "message": "Thanks for your comments Robert, I\u0027ve replied to your questions. üòä",
      "revId": "83374440df0aed990b3e1972b6e6acb26f54ed39",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "710c42cd_1d7f947e",
        "filename": "charms/tempest-k8s/src/charm.py",
        "patchSetId": 1
      },
      "lineNbr": 300,
      "author": {
        "id": 32363
      },
      "writtenOn": "2024-02-20T08:07:04Z",
      "side": 1,
      "message": "This should not be at the top of function? I think you want to defer event before doing anything and not after running whole event.",
      "revId": "83374440df0aed990b3e1972b6e6acb26f54ed39",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4670b128_6475a597",
        "filename": "charms/tempest-k8s/src/charm.py",
        "patchSetId": 1
      },
      "lineNbr": 300,
      "author": {
        "id": 34352
      },
      "writtenOn": "2024-02-20T10:46:35Z",
      "side": 1,
      "message": "No, because we want to check after the post_config_setup is complete.  If that failed, then tempest won\u0027t be ready, and we want to defer to try again later.\n\nI don\u0027t like the structure of things here, but we\u0027re a bit shoehorned into it if we want to keep using the structure given in the superclass. (post_config_setup is a good place for the custom logic, but it doesn\u0027t have access to the event object)\n\nI can improve the comment there if you like to make it clearer?  And/or we can do a follow up patch to refactor the post_config_setup logic to somewhere else.",
      "parentUuid": "710c42cd_1d7f947e",
      "revId": "83374440df0aed990b3e1972b6e6acb26f54ed39",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1086e96c_e176cee5",
        "filename": "charms/tempest-k8s/src/charm.py",
        "patchSetId": 1
      },
      "lineNbr": 300,
      "author": {
        "id": 32363
      },
      "writtenOn": "2024-02-21T11:09:38Z",
      "side": 1,
      "message": "Ok, that is a little bit strange, but now when you join those two function together I can see the bigger picture.\nBTW, raising the BlockedExceptionError looks really strange, but after checking the ops_sunbeam I see how it‚Äôs working.",
      "parentUuid": "4670b128_6475a597",
      "revId": "83374440df0aed990b3e1972b6e6acb26f54ed39",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b9758158_d6344191",
        "filename": "charms/tempest-k8s/src/charm.py",
        "patchSetId": 1
      },
      "lineNbr": 300,
      "author": {
        "id": 34352
      },
      "writtenOn": "2024-02-21T22:50:00Z",
      "side": 1,
      "message": "Yep, Hemanth suggested using configure_unit for everything, since that still works in the bootstrap logic flow and it has access to the event.  It\u0027s much more readable now. üëç",
      "parentUuid": "1086e96c_e176cee5",
      "revId": "83374440df0aed990b3e1972b6e6acb26f54ed39",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "519e9a4f_b5a822ba",
        "filename": "charms/tempest-k8s/tests/unit/test_tempest_charm.py",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 32363
      },
      "writtenOn": "2024-02-20T08:07:04Z",
      "side": 1,
      "message": "Why not using the self.patch_obj here?",
      "revId": "83374440df0aed990b3e1972b6e6acb26f54ed39",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58bbfac8_fa8e42fe",
        "filename": "charms/tempest-k8s/tests/unit/test_tempest_charm.py",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 34352
      },
      "writtenOn": "2024-02-20T10:46:35Z",
      "side": 1,
      "message": "Because we need to disable the patch for a couple of tests, so need to store a reference to the patcher to call .stop() - see line 497.  It\u0027s a bit hacky, but less verbose than patching this individually in each of the other tests.  Although not sure if there\u0027s a better pattern for this? :)",
      "parentUuid": "519e9a4f_b5a822ba",
      "revId": "83374440df0aed990b3e1972b6e6acb26f54ed39",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e8352f75_4fa37fd8",
        "filename": "charms/tempest-k8s/tests/unit/test_tempest_charm.py",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 32363
      },
      "writtenOn": "2024-02-21T11:09:38Z",
      "side": 1,
      "message": "I see and yes it bit hacky, but fine. Maybe we should add a comment here, that we are using it like this because of being able to stop it, and that\u0027a why we are not using self.patch_obj.\n\nI\u0027m not aware of any better way to doing it and suggestion to add comment is just optional. Resolving",
      "parentUuid": "58bbfac8_fa8e42fe",
      "revId": "83374440df0aed990b3e1972b6e6acb26f54ed39",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dd409487_32f32347",
        "filename": "charms/tempest-k8s/tests/unit/test_tempest_charm.py",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 34352
      },
      "writtenOn": "2024-02-21T22:50:00Z",
      "side": 1,
      "message": "Thanks, yes a comment is a good idea.",
      "parentUuid": "e8352f75_4fa37fd8",
      "revId": "83374440df0aed990b3e1972b6e6acb26f54ed39",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ]
}