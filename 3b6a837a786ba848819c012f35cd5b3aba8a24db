{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "09e864bd_e2d62b68",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 34352
      },
      "writtenOn": "2024-02-13T06:04:32Z",
      "side": 1,
      "message": "I did another pass and flagged some things that I\u0027d originally thought low priority or could be implemented in a later iteration.  We may be fine with them and can address later, but some may be important to address now.  I realised it\u0027s probably better to flag anyway so they\u0027re on the radar, regardless of how quickly we want to merge and iterate on development.",
      "revId": "3b6a837a786ba848819c012f35cd5b3aba8a24db",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "57f3b6bb_8ace01d8",
        "filename": "charms/tempest-k8s/src/utils/cleanup.py",
        "patchSetId": 13
      },
      "lineNbr": 49,
      "author": {
        "id": 34352
      },
      "writtenOn": "2024-02-13T06:04:32Z",
      "side": 1,
      "message": "`list[str]` should be:\n\n```\nfrom typing import List\n...\n-\u003e List[str]:\n```\n\nAs an aside, we aren\u0027t actually doing any type checking in the tests, so there\u0027s no automation to check these... :/  Maybe that\u0027s something we can look at adding in the future across the project.",
      "revId": "3b6a837a786ba848819c012f35cd5b3aba8a24db",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49c58e30_b406f496",
        "filename": "charms/tempest-k8s/src/utils/cleanup.py",
        "patchSetId": 13
      },
      "lineNbr": 49,
      "author": {
        "id": 34543
      },
      "writtenOn": "2024-02-13T14:37:05Z",
      "side": 1,
      "message": "Actually type hint is part of the standard library since Python 3.9 ([1]), so importing from typing is not only no longer needed but also will like be deprecated ([2]). I will raise I bug to remove the usage of typing imports everywhere.\n\n[1]: https://docs.python.org/3/whatsnew/3.9.html#type-hinting-generics-in-standard-collections\n[2]: https://peps.python.org/pep-0585/#implementation",
      "parentUuid": "57f3b6bb_8ace01d8",
      "revId": "3b6a837a786ba848819c012f35cd5b3aba8a24db",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9b6f91a0_702d5bb2",
        "filename": "charms/tempest-k8s/src/utils/cleanup.py",
        "patchSetId": 13
      },
      "lineNbr": 49,
      "author": {
        "id": 34352
      },
      "writtenOn": "2024-02-13T21:54:32Z",
      "side": 1,
      "message": "Oh nice, I didn\u0027t know that, thanks!  So it\u0027ll only be a few things like Union, Optional and such that need importing. üëç",
      "parentUuid": "49c58e30_b406f496",
      "revId": "3b6a837a786ba848819c012f35cd5b3aba8a24db",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6a082301_a5dcb819",
        "filename": "charms/tempest-k8s/src/utils/cleanup.py",
        "patchSetId": 13
      },
      "lineNbr": 162,
      "author": {
        "id": 34352
      },
      "writtenOn": "2024-02-13T01:36:01Z",
      "side": 1,
      "message": "Ah we actually need to clean up networks in between each test too.  Otherwise these accumulate quickly.  We can do this in another iteration of cleanup though to refine and catch whatever we\u0027ve missed here.",
      "revId": "3b6a837a786ba848819c012f35cd5b3aba8a24db",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7095c966_110a070d",
        "filename": "charms/tempest-k8s/src/utils/cleanup.py",
        "patchSetId": 13
      },
      "lineNbr": 162,
      "author": {
        "id": 34352
      },
      "writtenOn": "2024-02-13T06:04:32Z",
      "side": 1,
      "message": "Hmm actually I\u0027m not sure if more networks are left from each tempest run, or just created in the tempest init process.  Either way, we should double check and maybe address now, because networks accumulate quickly in my experience and result in running out of ip addresses.",
      "parentUuid": "6a082301_a5dcb819",
      "revId": "3b6a837a786ba848819c012f35cd5b3aba8a24db",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c7088429_ddc8c5b6",
        "filename": "charms/tempest-k8s/src/utils/cleanup.py",
        "patchSetId": 13
      },
      "lineNbr": 162,
      "author": {
        "id": 34543
      },
      "writtenOn": "2024-02-13T14:37:05Z",
      "side": 1,
      "message": "From my tests, when running tests with pre-generated test accounts, the network are created at the account-generator step only and doesn\u0027t accumulate in-between tests. I presume that you were seeing the accumulation in tests because you were running tests with admin user?\n\nBut I do have an idea for further optimization. Will push a new patch later.",
      "parentUuid": "7095c966_110a070d",
      "revId": "3b6a837a786ba848819c012f35cd5b3aba8a24db",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f0421c75_70ebfe9a",
        "filename": "charms/tempest-k8s/src/utils/cleanup.py",
        "patchSetId": 13
      },
      "lineNbr": 162,
      "author": {
        "id": 34352
      },
      "writtenOn": "2024-02-13T21:54:32Z",
      "side": 1,
      "message": "Ah ok, that makes sense.  I guess I\u0027m seeing networks accumulate from the tempest init stage.",
      "parentUuid": "c7088429_ddc8c5b6",
      "revId": "3b6a837a786ba848819c012f35cd5b3aba8a24db",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543"
    }
  ]
}